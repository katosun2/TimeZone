(function(n){var t=n.TimeZone||{};t.formatStr="YYYY/MM/DD hh:mm:ss";t.timeZone=-8;t.getTimeZone=function(){var n=new Date;return n.getTimezoneOffset()/60};t.getZeroByTimestamp=function(n,i){return n*=1e3,typeof i=="undefined"&&(i=t.timeZone),Math.round((Math.floor((n-i*36e5)/864e5)*864e5+i*36e5)/1e3)};t.formatTimeStamp=function(n,i,r){var f,e,u,o;return typeof i=="undefined"&&(i=t.timeZone),r=r||t.formatStr,f=t.getZeroByTimestamp(n)-i*3600,e=new Date(f*1e3).getUTCDay(),n*=1e3,i=-i,n+=i*36e5,u=new Date(n),o={M:u.getUTCMonth()+1,D:u.getUTCDate(),d:u.getUTCDate(),H:u.getUTCHours(),h:u.getUTCHours(),m:u.getUTCMinutes(),s:u.getUTCSeconds(),w:e},r=r.replace(/(M+|D+|d+|H+|h+|m+|s+|w+)/g,function(n){return((n.length>1?"0":"")+eval("z."+n.slice(-1))).slice(-2)}),r.replace(/(Y+|y+)/g,function(n){return u.getUTCFullYear().toString().slice(-n.length)})};t.getDaysZeroList=function(n,i,r,u){i*=1e3;typeof r=="undefined"&&(r=t.timeZone);u=u||t.formatStr;for(var f=[],n=t.getZeroByTimestamp(n,r)*1e3;n<=i;)f.push({timestamp:Math.round(n/1e3),timeStr:t.formatTimeStamp(Math.round(n/1e3),r,u)}),n+=864e5;return f};t.getWeekTimestamp=function(n,i,r,u,f){var o;typeof i=="undefined"&&(i=t.timeZone);n=t.getZeroByTimestamp(n,i);typeof u=="undefined"&&(u=1);f=f||t.formatStr;var a=n-i*3600,e=new Date(a*1e3).getUTCDay(),c=[],s=0;for(r?(e=e===0?7:e,s=n-86400*(e-1)):(e=e===0?0:e,s=n-86400*e),o=0;o<u;o++){var h=s-604800*o,l=h+604800-1,v={startTimestamp:h,endTimestamp:l,startTimestampStr:t.formatTimeStamp(h,i,f),endTimestampStr:t.formatTimeStamp(l,i,f)};c.push(v)}return c};t.dateStrToUnix=function(n,i){n=n.replace(/-/g,"/");var r=t.getTimeZone(),u=Math.round(new Date(n).getTime()/1e3);return typeof i=="undefined"&&(i=t.timeZone),u-(r-i)*3600};t.getMonthDays=function(n,i){var r;typeof i=="undefined"&&(i=t.timeZone);r=n;Object.prototype.toString.call(n)==="[object String]"&&(r=t.dateStrToUnix(n,i));var u=new Date(r*1e3),f=u.getMonth()+1,e=u.getFullYear(),o=new Date(e,f,0).getDate();return{days:o,month:f,year:e}};t.getMonthEveryDays=function(n,i,r){var u,s,e;r=r||t.formatStr;typeof i=="undefined"&&(i=t.timeZone);var f=t.getMonthDays(n,i),h=f.days,c=f.month,l=f.year,o=[];for(u=1;u<=h;u++)s=[l,c,u].join("-")+" 00:00:00",e=t.dateStrToUnix(s,i),o.push({timestamp:e,dateStr:t.formatTimeStamp(e,i,r)});return o};n.TimeZone=t})(window);